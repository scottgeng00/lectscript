# LectScript 

LectScript is a command line tool written in Python that enables you to automatically generate 
outlines of Zoom recordings. Given just the URL of a Zoom cloud recording, LectScript will return a full transcript of the entire lecture. 
LectScript further generates key concepts and the timestamps of important moments for you to review.

Initially submitted to Columbia's 2020 hackathon, for which we won the best education hack! Here's our demo: ([Youtube Link](https://www.youtube.com/watch?v=gLpKgqMYrq0))

## How It Works

1. LectScript contains a CLI tool (`main.py`), 2 modules (`data.py`, `nlp.py`)
   and a small tool (`bookmarking.py`) for saving annotations during live lectures.
   `main.py` imports the two aforementioned modules, and it is the main execeutble of this program. 
   
2. When you run `lectscript` with a valid Zoom url, `main.py` first calls an external tool `zoomdl` to 
   scrape the media file from Zoom's servers. This media file is converted to `.flac` and submitted to 
   Google's web speech-to-text API for automatic transcription. This step is handled by `autosub`.

3. The final major step is to perform NLP on the lecture transcript to obtain a list of key phrases and key sentences This is done with TextRank ([great explanation here](https://towardsdatascience.com/textrank-for-keyword-extraction-by-python-c0bae21bcec0#:~:text=TextRank%20is%20an%20algorithm%20based,Extraction%20with%20TextRank%2C%20NER%2C%20etc)) in conjunction with a convolutional neural network (CNN) from `spacy`.
   
4. As a clean-up step, we identify the time stamps of the key sentences identified in **step 3**, so that users can readily identify the exact moment in lecutre that they occur at. This is done with a regular-expression based string searching algorithm.
  
5. All data is printed to a single output file so that it can be readily viewed. 


## Usage

### Installation

TLDR: 
```sh
$ git clone https://github.com/scottgeng00/lectscript
$ cd lectscript
$ cp main.py lectscript
$ chmod +x lectscript
$ ./lectscript
```

<details><summary><b>Requirements</b></summary>

Installation requires `python3`, `pip3`, and 7 further packages, of which 5 may be downloaded by simply running the command:

`$ pip3 install -r requirements.txt`

You may also need to run the command `pip install git+https://github.com/agermanidis/autosub.git` to update the `autosub` package you get from pip.

For the remaining two (2) requirements, you will need to install [zoomdl](https://github.com/Battleman/zoomdl) and [ffmpeg](https://www.ffmpeg.org/download.html).

</details>


### Execution

To learn how to use `lectscript`, run the executable with `--help`:

```sh
$ ./lectscript --help
```

To use the bookmarker, just run its executable during a live lecture:

```sh
$ python3 bookmarking.py
```

Afterwards, there are two keybinds availalbe to you, `esc`, and the **down arrow key**. Pressing **&#8595;** creates a new bookmark and prompts you to enter a note. Pressing `esc` ends your annotation session and automatically produces a file called `bookmarks.txt` that contains your bookmarked lecture timestamps. This file may be passed into `lectscript` later with the `-b` option to incorporate it into the transcript generated by `lectscript`.
